---

import Layout from '../components/layout/Layout.astro';
import FeaturedArticle from '../components/FeaturedArticle.astro';
import PostCard from '../components/PostCard.astro';
import { getAllPosts } from '../lib/wordpress';

// Récupération des articles
const posts = await getAllPosts(6);
const featuredPost = posts[0]; // Premier article comme article à la une
const otherPosts = posts.slice(1); // Les autres articles
---

<Layout 
  title="Accueil" 
  description="Découvrez nos derniers articles et actualités"
>
  <!-- Article à la une -->
  {featuredPost && (
    <section class="py-16">
      <div class="container mx-auto px-4">
        <FeaturedArticle article={featuredPost} />
      </div>
    </section>
  )}

  <!-- Liste des articles -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-8">Derniers Articles</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {otherPosts.map((post) => (
          <PostCard post={post} />
        ))}
      </div>
    </div>
  </section>
</Layout>